#!/usr/bin/env ruby
require 'rubygems'
require 'thor'
require 'thor/group'
require 'artoo/robot'
require 'artoo/commands/generate'
require 'artoo/commands/connect'
require 'artoo/commands/install'

Celluloid.logger = nil

module CLI
  class Root < Thor
    include Thor::Actions
    
    desc 'version', 'Displays the current version'
    def version
      say Artoo::VERSION
    end

    desc "console ROBOT", "Run a robot using the Robi console"
    def console(robot)
      run("robi #{robot}")
    end

    desc "generate SUBCOMMAND ...ARGS", "Generates a new robot or adaptor"
    subcommand "generate", Artoo::Commands::Generate

    desc "connect SUBCOMMAND ...ARGS", "Connects to device"
    subcommand "connect", Artoo::Commands::Connect

    desc "install SUBCOMMAND ...ARGS", "Installs utility programs"
    subcommand "install", Artoo::Commands::Install
  end
end

CLI::Root.start
