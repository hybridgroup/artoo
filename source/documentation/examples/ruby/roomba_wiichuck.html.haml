---
title: Roomba with Artoo.io
author: The Hybrid Group
page_title: Roomba Wiichuck
page_subtitle: "You can find this example <a href='https://github.com/hybridgroup/artoo/blob/master/examples/roomba_wiichuck.rb' target='blanck' class='repository'>here.</a>"
layout: page
---

.documentation
  %section.intro
    %h2 Example
    :markdown
          :::ruby
          require 'artoo'

          connection :roomba, :adaptor => :roomba, :port => '8023'
          device :roomba, :driver => :roomba, :connection => :roomba

          connection :arduino, :adaptor => :firmata, :port => '8024'
          device :wiichuck, :driver => :wiichuck, :connection => :arduino, :interval => 0.1
            
          work do
            roomba.safe_mode
            on wiichuck, :z_button => proc { 
              C1 = 66
              D1 = 74
              E1 = 83
              F1 = 88
              A2 = 100
              QUARTER = 16
              HALF = 57
              la_cucaracha = []
              la_cucaracha << [C1, QUARTER] 
              la_cucaracha << [C1, QUARTER]
              la_cucaracha << [C1, QUARTER] 
              la_cucaracha << [F1, HALF] 
              la_cucaracha << [A2, QUARTER] 
              la_cucaracha << [C1, QUARTER]
              la_cucaracha << [C1, QUARTER]
              la_cucaracha << [C1, QUARTER] 
              la_cucaracha << [F1, HALF] 
              la_cucaracha << [A2, QUARTER] 
              la_cucaracha << [F1, QUARTER] 
              la_cucaracha << [F1, QUARTER] 
              la_cucaracha << [E1, QUARTER] 
              la_cucaracha << [E1, QUARTER] 
              la_cucaracha << [D1, QUARTER] 
              la_cucaracha << [D1, QUARTER] 
              la_cucaracha << [C1, QUARTER] 
              roomba.play_song(la_cucaracha)
            }
            on wiichuck, :joystick => proc { |*value|

              pair = value[1]

              if pair[:y] > 10
                roomba.forward(1)
              elsif pair[:y] < -10
                roomba.backwards(1)
              end

              if pair[:x] > 10
                roomba.turn_right
              elsif pair[:x] < -10
                roomba.turn_left
              end

            }
          end